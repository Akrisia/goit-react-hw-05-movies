{"version":3,"file":"static/js/194.e6f36777.chunk.js","mappings":"iMACA,EAAuB,yBAAvB,EAAyD,2BAAzD,EAA4F,0BAA5F,EAA8H,0BAA9H,EAAiM,yBAAjM,EAAiO,yBAAjO,EAAiQ,yB,iDCKlP,SAASA,IACpB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAiCjB,OAJAC,EAAAA,EAAAA,YAAU,WACa,OAAnBJ,EAASK,OAAkBL,EAASK,MAAMC,MAAQP,GAAS,SAAAD,GAAK,OAAIE,EAASK,MAAMC,UACpF,CAACN,KAGA,iCACI,kBAAMO,UAAWC,EAAQC,SA5BZ,SAAAC,GACjBA,EAAMC,iBAEDf,IAILM,EAAS,CACLU,SAAUZ,EAASY,SACnBC,OAAO,SAAD,OAAWjB,MAGrBkB,EAAAA,EAAAA,IAAYlB,GACPmB,MAAK,SAAAC,GACFjB,GAAS,SAAAD,GAAK,OAAIkB,EAASV,KAAKW,cAEnCC,OAAM,SAAAC,GAAK,OAAIA,EAAMC,WACrBC,SAAQ,WACLxB,EAAS,SAUb,WACI,kBACIU,UAAWC,EACXc,KAAK,OACLC,KAAK,QACLC,MAAO5B,EACP6B,SAvCK,SAAAf,GACjB,IAAQc,EAAUd,EAAMgB,cAAhBF,MACR3B,EAAS2B,IAsCGG,aAAa,MACbC,WAAS,EACTC,YAAY,MAEpB,mBAAQP,KAAK,SAASf,UAAWC,EAAjC,UACI,iBAAMD,UAAWC,EAAjB,yBAIHV,IAAS,eAAIS,UAAWC,EAAf,SACLV,EAAMgC,KAAI,SAAAC,GACP,OAAO,eAAIxB,UAAWC,EAAf,UACH,SAAC,KAAD,CAAMwB,GAAE,kBAAaD,EAAKE,IAAM5B,MAAO,CACnC6B,KAAM,CACFC,KAAMnC,EAASY,SAAWZ,EAASa,QAEvCP,KAAMR,GAENS,UAAWC,EANf,SAMwBuB,EAAKK,kBAPEL,EAAKE,c,6KC7D/CI,EAAO,SACZC,GACA,OAAOC,IAAAA,IAAUD,ICFnBE,EAAW,+BACXC,EAAU,mCAEHC,EAAkB,WAC3B,OAAOL,EAAA,UAAYG,EAAZ,uCAAmDC,KAGjD3B,EAAc,SAAClB,GACxB,OAAOyC,EAAA,UAAYG,EAAZ,iCAA6CC,EAA7C,kBAA8D7C,EAA9D,0BAGE+C,EAAc,SAACC,GACxB,OAAOP,EAAA,UAAYG,EAAZ,kBAA8BI,EAA9B,oBAAgDH,KAG9CI,EAAc,SAACD,GACxB,OAAOP,EAAA,UAAYG,EAAZ,kBAA8BI,EAA9B,4BAAwDH,KAGtDK,EAAiB,SAACF,GAC3B,OAAOP,EAAA,UAAYG,EAAZ,kBAA8BI,EAA9B,4BAAwDH","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesPage/MoviesPage.module.css?564c","components/MoviesPage/MoviesPage.jsx","services/Api.jsx","services/GetFilms.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__Hzb4A\",\"button\":\"MoviesPage_button__HN2QC\",\"label\":\"MoviesPage_label__VMimP\",\"input\":\"MoviesPage_input__h5lTQ\",\"title\":\"MoviesPage_title__OtbeF\",\"list\":\"MoviesPage_list__xgBYI\",\"item\":\"MoviesPage_item__31wgY\",\"link\":\"MoviesPage_link__Kqtq6\"};","import s from './MoviesPage.module.css';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\nimport { searchFilms } from 'services/GetFilms';\n\nexport default function MoviesPage() {\n    const [query, setQuery] = useState('');\n    const [films, setFilms] = useState([]);\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    const handleChange = event => {\n        const { value } = event.currentTarget;\n        setQuery(value);\n    };\n\n    const handleSubmit = event => {\n        event.preventDefault();\n\n        if (!query) {\n            return;\n        };\n\n        navigate({\n            pathname: location.pathname,\n            search: `query=${query}`\n        });\n\n        searchFilms(query)\n            .then(response => {\n                setFilms(films => response.data.results);\n            })\n            .catch(error => error.message)\n            .finally(() => {\n                setQuery('');\n            });\n    };\n\n    useEffect(() => {\n        location.state !== null && location.state.data && setFilms(films => location.state.data)\n    }, [location]);\n\n    return (\n        <>\n            <form className={s.form} onSubmit={handleSubmit}>\n                <input\n                    className={s.input}\n                    type=\"text\"\n                    name=\"query\"\n                    value={query}\n                    onChange={handleChange}\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"\"\n            />\n            <button type=\"submit\" className={s.button}>\n                <span className={s.label}>Search</span>\n            </button>\n            </form>\n\n            {films && <ul className={s.list}>\n                {films.map(film => {\n                    return <li className={s.item} key={film.id}>\n                        <Link to={`/movies/${film.id}`} state={{\n                            from: {\n                                path: location.pathname + location.search,\n                            },\n                            data: films\n                        }}\n                            className={s.link}>{film.original_title}</Link>\n                    </li>\n                })}\n            </ul>}\n        </>\n    )\n};","import axios from \"axios\";\n\nexport const http = {\n    get(url) {\n        return axios.get(url);\n    },\n    post(url, body) {\n        return axios.post(url, body);\n    }\n};","import { http } from \"./Api\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '7abb9f029aa2b599dfc2a90359817f58';\n\nexport const getPopularFilms = () => {\n    return http.get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n};\n\nexport const searchFilms = (query) => {\n    return http.get(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&include_adult=false`);\n};\n\nexport const getFilmById = (filmId) => {\n    return http.get(`${BASE_URL}/movie/${filmId}?api_key=${API_KEY}`);\n};\n\nexport const getFilmCast = (filmId) => {\n    return http.get(`${BASE_URL}/movie/${filmId}/credits?api_key=${API_KEY}`);\n}\n\nexport const getFilmReviews = (filmId) => {\n    return http.get(`${BASE_URL}/movie/${filmId}/reviews?api_key=${API_KEY}`);\n}\n"],"names":["MoviesPage","useState","query","setQuery","films","setFilms","location","useLocation","navigate","useNavigate","useEffect","state","data","className","s","onSubmit","event","preventDefault","pathname","search","searchFilms","then","response","results","catch","error","message","finally","type","name","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","map","film","to","id","from","path","original_title","http","url","axios","BASE_URL","API_KEY","getPopularFilms","getFilmById","filmId","getFilmCast","getFilmReviews"],"sourceRoot":""}